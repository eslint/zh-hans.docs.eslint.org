---
title: no-misleading-character-class
rule_type: problem
---

Unicode åŒ…æ‹¬ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦ã€‚
æ­£åˆ™å­—ç¬¦ç±»è¯­æ³•ï¼ˆ`/[abc]/`ï¼‰ä¸èƒ½å¤„ç†ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å°†è¢«æº¶å…¥æ¯ä¸ªä»£ç ç‚¹ã€‚ä¾‹å¦‚ï¼Œ`â‡ï¸` æ˜¯ç”± `â‡`ï¼ˆ`U+2747`ï¼‰å’Œ VARIATION SELECTOR-16ï¼ˆ`U+FE0F`ï¼‰ç»„æˆã€‚å¦‚æœè¿™ä¸ªå­—ç¬¦åœ¨æ­£åˆ™å­—ç¬¦ç±»ä¸­ï¼Œå®ƒå°†ä¸ `â‡`ï¼ˆ`U+2747`ï¼‰æˆ– VARIATION SELECTOR-16ï¼ˆ`U+FE0F`ï¼‰åŒ¹é…ï¼Œè€Œä¸æ˜¯ `â‡ï¸`ã€‚

è¿™æ¡è§„åˆ™æŠ¥å‘Šåœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­åŒ…æ‹¬å¤šä¸ªç ä½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚è¿™æ¡è§„åˆ™è®¤ä¸ºä»¥ä¸‹å­—ç¬¦æ˜¯å¤šç ç‚¹å­—ç¬¦ã€‚

**å¸¦æœ‰ç»„åˆå­—ç¬¦çš„å­—ç¬¦**ï¼š

ç»„åˆå­—ç¬¦æ˜¯å±äº `Mc`ã€`Me` å’Œ `Mn` ä¹‹ä¸€çš„å­—ç¬¦ [Unicode ä¸€èˆ¬ç±»åˆ«](http://www.unicode.org/L2/L1999/UnicodeData.html#General%20Category)ã€‚

```js
/^[AÌ]$/u.test("AÌ") //â†’ false
/^[â‡ï¸]$/u.test("â‡ï¸") //â†’ false
```

**ä¸€ä¸ªå¸¦æœ‰è¡¨æƒ…ç¬¦å·ä¿®é¥°çš„å­—ç¬¦**ï¼š

```js
/^[ğŸ‘¶ğŸ»]$/u.test("ğŸ‘¶ğŸ»") //â†’ false
/^[ğŸ‘¶ğŸ½]$/u.test("ğŸ‘¶ğŸ½") //â†’ false
```

**ä¸€å¯¹åŒºåŸŸæŒ‡æ ‡ç¬¦å·**ï¼š

```js
/^[ğŸ‡¯ğŸ‡µ]$/u.test("ğŸ‡¯ğŸ‡µ") //â†’ false
```

**ZWJ åˆæˆçš„äººç‰©**ï¼š

```js
/^[ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦]$/u.test("ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦") //â†’ false
```

**ä¸€ä¸ªæ²¡æœ‰ Unicode æ ‡å¿—çš„ä»£æ›¿å¯¹**ï¼š

```js
/^[ğŸ‘]$/.test("ğŸ‘") //â†’ false

// Surrogate pair is OK if with u flag.
/^[ğŸ‘]$/u.test("ğŸ‘") //â†’ true
```

## è§„åˆ™ç»†èŠ‚

è¿™æ¡è§„åˆ™æŠ¥å‘Šåœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­åŒ…å«å¤šä¸ªç ä½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚

ä½¿ç”¨æ­¤è§„åˆ™çš„**é”™è¯¯**ç¤ºä¾‹ï¼š

::: incorrect

```js
/*eslint no-misleading-character-class: error */

/^[AÌ]$/u
/^[â‡ï¸]$/u
/^[ğŸ‘¶ğŸ»]$/u
/^[ğŸ‡¯ğŸ‡µ]$/u
/^[ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦]$/u
/^[ğŸ‘]$/
```

:::

ä½¿ç”¨æ­¤è§„åˆ™çš„**æ­£ç¡®**ç¤ºä¾‹ï¼š

::: correct

```js
/*eslint no-misleading-character-class: error */

/^[abc]$/
/^[ğŸ‘]$/u
```

:::

## ä½•æ—¶ä¸ç”¨

å¦‚æœæ‚¨ä¸æƒ³ä¸ºå¤šä¸ªä»£ç ç‚¹å­—ç¬¦æ£€æŸ¥æ­£åˆ™å­—ç¬¦ç±»è¯­æ³•ï¼Œæ‚¨å¯ä»¥å…³é—­æ­¤è§„åˆ™ã€‚
